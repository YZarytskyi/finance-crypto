{"version":3,"file":"static/js/310.19ad5a0f.chunk.js","mappings":"8PACA,EAAgN,+BAAhN,EAAuP,yBAAvP,EAA6R,8BAA7R,EAAuW,8BAAvW,EAA4iB,gCAA5iB,EAAulB,4B,SC6EvlB,EAnEkB,WAChB,OAA0CA,EAAAA,EAAAA,GAHjB,iBAKvB,IAFF,eAAOC,EAAP,KAAsBC,EAAtB,KAKA,GAAwBC,EAAAA,EAAAA,UAAiB,GAAzC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAAkCF,EAAAA,EAAAA,WAAkB,GAApD,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAAkCJ,EAAAA,EAAAA,UAAoB,IAAtD,eAAOK,EAAP,KAAkBC,EAAlB,KAEMC,GAAaC,EAAAA,EAAAA,QAA2B,MAExCC,GAA8B,OAATJ,QAAS,IAATA,OAAA,EAAAA,EAAWK,SAAU,GAEhDC,EAAAA,EAAAA,YAAU,WACRP,GAAa,GACb,IAAMQ,EAAgB,yCAAG,yGACJC,EAAAA,EAAAA,WAAqBZ,EAAMH,GADvB,OACjBgB,EADiB,OAEvBR,EAAaQ,GAFU,2CAAH,qDAItBF,IACAR,GAAa,EACd,GAAE,CAACH,IAMJ,OACE,iCACE,qBAASc,UAAS,UAAKC,EAAL,YAAoBA,GAAtC,WACE,eAAID,UAAWC,EAAmBC,IAAKV,EAAvC,0BAGET,EAAcY,QAWd,SAACQ,EAAA,EAAD,CACEf,UAAWA,EACXgB,QAASd,EACTP,cAAeA,EACfsB,oBAzBkB,SAACC,GAC3BtB,EAAiBsB,EAClB,KASO,4BACE,cAAGN,UAAWC,EAAd,mDAGA,eAAGD,UAAWC,EAAd,gEACsD,KACpD,SAAC,KAAD,CAAMM,GAAG,gBAAT,4BAYPxB,EAAcY,OAAS,KACtB,gBAAKK,UAAWC,EAAhB,UACE,SAAC,KAAD,CACEf,KAAMA,EACNC,QAASA,EACTqB,MAAOd,EACPQ,IAAKV,QAMhB,C","sources":["webpack://crypto-project/./src/pages/Portfolio/Portfolio.module.scss?3fa7","pages/Portfolio/Portfolio.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"iconTime\":\"Portfolio_iconTime__x+LIq\",\"hidden\":\"Portfolio_hidden__FH5Ov\",\"percentagePlus\":\"Portfolio_percentagePlus__lchrn\",\"percentageMinus\":\"Portfolio_percentageMinus__diItX\",\"tableHeader\":\"Portfolio_tableHeader__b9GpW\",\"table\":\"Portfolio_table__tl+1l\",\"tableCoins\":\"Portfolio_tableCoins__JUth2\",\"link\":\"Portfolio_link__6ZwLc\",\"pagination\":\"Portfolio_pagination__6FJE1\",\"star\":\"Portfolio_star__UDWqn\",\"starActive\":\"Portfolio_starActive__kHiom\",\"starHead\":\"Portfolio_starHead__26WV5\",\"chartImg\":\"Portfolio_chartImg__gylF+\",\"textNotFound\":\"Portfolio_textNotFound__H6-oO\",\"textLink\":\"Portfolio_textLink__bjxLj\"};","import { useEffect, useRef, useState } from 'react';\r\nimport { cryptoApi } from '../../api/cryptoApi';\r\nimport { useLocalStorageState } from '../../hooks/useStorage';\r\nimport { Markets } from '../../types/Types';\r\nimport { CoinTableHead } from '../Crypto/Coins/CoinTableHead';\r\nimport { TablePagination } from '../../Components/Common';\r\nimport { Link } from 'react-router-dom';\r\nimport style from './Portfolio.module.scss';\r\n\r\nconst SELECTED_COINS_KEY = 'selected-coins';\r\n\r\nconst Portfolio = () => {\r\n  const [selectedCoins, setSelectedCoins] = useLocalStorageState<string[]>(\r\n    SELECTED_COINS_KEY,\r\n    []\r\n  );\r\n\r\n  const [page, setPage] = useState<number>(1);\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n  const [portfolio, setPortfolio] = useState<Markets[]>([]);\r\n\r\n  const headingRef = useRef<HTMLHeadingElement>(null);\r\n\r\n  const countCoins: number = portfolio?.length || 0;\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true)\r\n    const getPortfolioData = async () => {\r\n      const data = await cryptoApi.getMarkets(page, selectedCoins);\r\n      setPortfolio(data);\r\n    };\r\n    getPortfolioData();\r\n    setIsLoading(false)\r\n  }, [page]);\r\n\r\n  const setNewSelectedCoins = (newArr: string[]) => {\r\n    setSelectedCoins(newArr);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <section className={`${style.table} ${style.tableCoins}`}>\r\n        <h1 className={style.tableHeader} ref={headingRef}>\r\n          My Portfolio\r\n        </h1>\r\n        {!selectedCoins.length ? (\r\n          <div>\r\n            <p className={style.textNotFound}>\r\n              There are not any coins in Portfolio\r\n            </p>\r\n            <p className={style.textLink}>\r\n              You can see available coins and add to Portfolio in{' '}\r\n              <Link to=\"/crypto/coins\">Coins</Link>\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <CoinTableHead\r\n            isLoading={isLoading}\r\n            markets={portfolio}\r\n            selectedCoins={selectedCoins}\r\n            setNewSelectedCoins={setNewSelectedCoins}\r\n          />\r\n        )}\r\n      </section>\r\n      {selectedCoins.length > 15 && (\r\n        <div className={style.pagination}>\r\n          <TablePagination\r\n            page={page}\r\n            setPage={setPage}\r\n            count={countCoins}\r\n            ref={headingRef}\r\n          />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Portfolio;\r\n"],"names":["useLocalStorageState","selectedCoins","setSelectedCoins","useState","page","setPage","isLoading","setIsLoading","portfolio","setPortfolio","headingRef","useRef","countCoins","length","useEffect","getPortfolioData","cryptoApi","data","className","style","ref","CoinTableHead","markets","setNewSelectedCoins","newArr","to","count"],"sourceRoot":""}